<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL的安装和使用 | Luosplan</title><meta name="author" content="luo pan"><meta name="copyright" content="luo pan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库的基本概念什么是数据库数据库 （database）是用来阻止、存储和管理数据的仓库 当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等。除了文本类型的数据，图像、音乐、声音都是数据 常见数据库及分类市面上的数据库有很多种，最常见的数据库有如下几个：  MYSQL 数据库（目前使用最广泛、流行度最高的开源免费数据库； C">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL的安装和使用">
<meta property="og:url" content="http://example.com/2024/07/24/MySql/MySql%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/index.html">
<meta property="og:site_name" content="Luosplan">
<meta property="og:description" content="数据库的基本概念什么是数据库数据库 （database）是用来阻止、存储和管理数据的仓库 当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等。除了文本类型的数据，图像、音乐、声音都是数据 常见数据库及分类市面上的数据库有很多种，最常见的数据库有如下几个：  MYSQL 数据库（目前使用最广泛、流行度最高的开源免费数据库； C">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png">
<meta property="article:published_time" content="2024-07-24T02:46:40.000Z">
<meta property="article:modified_time" content="2024-09-06T07:14:33.616Z">
<meta property="article:author" content="luo pan">
<meta property="article:tag" content="mysql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png"><link rel="shortcut icon" href="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/favicon.ico"><link rel="canonical" href="http://example.com/2024/07/24/MySql/MySql%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"top_n_per_article":10,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL的安装和使用',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-06 07:14:33'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/avater.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-filter"></i><span> 筛选</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-calendar-alt"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Luosplan"><span class="site-name">Luosplan</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-filter"></i><span> 筛选</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-calendar-alt"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">MySQL的安装和使用</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-24T02:46:40.000Z" title="发表于 2024-07-24 02:46:40">2024-07-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-06T07:14:33.616Z" title="更新于 2024-09-06 07:14:33">2024-09-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySql/">MySql</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.9k</span></span></div></div></div><article class="post-content" id="article-container"><h1 id="数据库的基本概念"><a href="#数据库的基本概念" class="headerlink" title="数据库的基本概念"></a>数据库的基本概念</h1><h2 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h2><p>数据库 （database）是用来阻止、存储和管理数据的仓库</p>
<p>当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等。除了文本类型的数据，图像、音乐、声音都是数据</p>
<h2 id="常见数据库及分类"><a href="#常见数据库及分类" class="headerlink" title="常见数据库及分类"></a>常见数据库及分类</h2><p>市面上的数据库有很多种，最常见的数据库有如下几个：</p>
<ul>
<li>MYSQL 数据库（目前使用最广泛、流行度最高的开源免费数据库； Community(社区版免费) + Enterprise(企业收费版)）</li>
<li>Oracle 数据库（收费）</li>
<li>SQL Server 数据库 （收费）</li>
<li>Mongodb 数据库（Community + Enterprise）也分两个版本</li>
</ul>
<p>其中，MySQL、Oracle、SQL Server 属于传统型数据库（又叫做：关系型数据库 或 SQL 数据库），这三者的设计理念相同，用法比较类似</p>
<p>而 Mongodb 属于新型数据库（又叫做：非关系型数据库 或 NoSQL 数据库），它在一定程度上弥补了传统型数据库的缺陷</p>
<h2 id="传统型数据库的数据组织结构"><a href="#传统型数据库的数据组织结构" class="headerlink" title="传统型数据库的数据组织结构"></a>传统型数据库的数据组织结构</h2><h3 id="Excel-的数据组织结构"><a href="#Excel-的数据组织结构" class="headerlink" title="Excel 的数据组织结构"></a>Excel 的数据组织结构</h3><p>每个 Excel中，数据的组织结构分别为工作薄、工作表、数据行、列这 4 大部分组成</p>
<p>这 4 大部分都是 互相包含的 工作簿包含工作表，工作表包含数据行，数据行又包含列</p>
<ul>
<li>整个 Excel 叫做工作簿</li>
<li>users 和 books 是工作表</li>
<li>users 工作表中有 3 行数据</li>
<li>每行数据由 6 列信息组成</li>
<li>每列信息都有对应的数据类型</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681643502908.png"></p>
<blockquote>
<p>在传统型数据库中，数据的组织结构分为数据库(database)、数据表(table)、数据行(row)、 字段(field)这 4 大部分组成</p>
</blockquote>
<p><strong>一个数据库里面可以包含多张表，每张表里面由数据行组成的，每一行是由字段来组成的（也就是列）</strong></p>
<ul>
<li>数据库类似于 Excel 的工作簿</li>
<li>数据表类似于 Excel 的工作表</li>
<li>数据行类似于 Excel 的每一行数据</li>
<li>字段类似于 Excel 的列</li>
<li>每个字段都有对应的数据类型</li>
</ul>
<h3 id="库、表、行、字段的关系"><a href="#库、表、行、字段的关系" class="headerlink" title="库、表、行、字段的关系"></a>库、表、行、字段的关系</h3><ol>
<li>在实际项目开发中，一般情况下，每个项目都对应独立的数据库</li>
<li>不同的数据，要存储到数据库的不同表中，例如：用户数据存储到 users 表中，图书数据存储到 books 表中</li>
<li>每个表中具体存储那些信息，由字段来决定，例如：我们可以为 users 表设计 id、username、password 这 3 个字段</li>
<li>表中的行，代表每一条具体的数据</li>
</ol>
<h1 id="安装并配置-MySQL"><a href="#安装并配置-MySQL" class="headerlink" title="安装并配置 MySQL"></a>安装并配置 MySQL</h1><h2 id="MySQL相关的软件"><a href="#MySQL相关的软件" class="headerlink" title="MySQL相关的软件"></a>MySQL相关的软件</h2><p>对于开发人员来说，只需要安装 M有SQL Server 和 MySQL Workbench 这两个软件，就能满足开发的需要了</p>
<ul>
<li>MySQL Server：专门用来提供数据存储和服务的软件</li>
<li>MySQL Workbench：可视化的 MySQL 管理，通过它，可以方便的操作存储在 MySQL Server 中的数据</li>
</ul>
<h2 id="Windows安装MySQL"><a href="#Windows安装MySQL" class="headerlink" title="Windows安装MySQL"></a>Windows安装MySQL</h2><p>在 Windows 环境下安装 MySQL，只需要运行 <code>mysql-installer-community-8.0.19.0.msi</code> 这个安装包，就能一次性将 MySQL Server 和</p>
<p>MySQL Workbench 安装到自己的电脑上</p>
<p><code>下载： </code><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">MySQL</a></p>
<ol>
<li>双击 <code>mysql-installer-community-8.0.19.0.msi</code>，启动 MySQL 安装程序</li>
<li>如果弹框提示如下的警告信息，证明你的电脑需要安装额外的 <code>.NET Framework</code> 依赖包。此时，先退出 MySQL 的安装程序，然后双击 <code>NDP452-KB2901907-X86-X64-AllOS-ENU.exe</code>，启动 <code>.NET Framework</code></li>
</ol>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681650483775.png"></p>
<ol start="3">
<li>双击<code>mysql</code>安装包，稍等一会儿之后，出现如下安装界面</li>
</ol>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651332215.png"></p>
<p>可以看到有5中安装类型，分别是：</p>
<ul>
<li><code>Developer Default</code>：默认安装类型</li>
<li><code>Server only</code>：仅作为服务器</li>
<li><code>Client only</code>：仅作为客户端</li>
<li><code>Full</code>：完全安装</li>
<li><code>Custom</code>：自定义安装</li>
</ul>
<p>在这里我们选择<code>Custom</code>，也就是自定义安装，然后点击<code>Next</code></p>
<p>出现以下界面</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651409102.png"></p>
<p>我们进行选择性的安装</p>
<p>我们选装<code>MySQL Server 8.0.29-X64</code>、<code>MYSQL Documentation 8.0.29-X86</code>和<code>Samples and Examples 8.0.29-X86</code>即可</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651655935.png"></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651681002.png"></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651726494.png"></p>
<p>继续下一步</p>
<p>四、配置mysql</p>
<p>出现服务器类型配置窗口，如图：</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651777047.png"></p>
<p>当我们点击<code>Config Type</code>的时候，可以看到出现几个选项</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651831267.png"></p>
<p>上面几个含义分别是：</p>
<ol>
<li><code>Development Machine</code>（开发机器）：该选项代表典型个人用桌面工作站。假定机器上运行着多个桌面应用程序，将<code>MySQL</code>服务器配置成使用最少的系统资源</li>
<li><code>Server Machine</code>（服务器）：该选项代表服务器，<code>MySQL</code>服务器可以同其他应用程序一起运行，例如<code>FTP</code>、<code>Email</code>和<code>Web</code>服务器。<code>MySQL</code>服务器配置成使用适当比例的系统资源</li>
<li><code>Dedicated Machine</code>（专用服务器）：该选项代表只运行<code>MySQL</code>服务的服务器。假定没有运行其他服务程序，<code>MySQL</code>服务器配置成使用所有可用系统资源</li>
</ol>
<p>在这里我们使用<code>Development Machine</code>（开发机器），方便使用，别的默认配置都不动，直接点击<code>Next</code></p>
<p>出现如图的<strong>权限设置方式</strong>窗口，第一个单选项的含义是<code>MySQL 8.0</code>提供的新的授权方式，采用<code>SHA256</code>基础的密码加密方法；第二个单选项的含义是传统授权方法（保留<code>5.x</code>版本兼容性）。这里选择第二个单选项</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681651978817.png"></p>
<p>点击<code>Next</code>之后，我们就在新弹出的界面中，配置<code>mysql</code>数据库的<code>root</code>用户名登录信息了，这里我设置的是<code>Yunweijia0909</code>，我们需要输入两遍哈；</p>
<p>当然，我们也可以在这个界面中新添加其他用户，这个根据实际情况来配置即可</p>
<p>MySQL Root Password： Lp17762682464</p>
<p>Repeat Password: Lp17762682464</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652595438.png"></p>
<p>配置完毕之后，我们继续点击<code>Next</code>按钮</p>
<p>然后就可以配置数据库名字了，这里我们配置成<code>MySQL</code></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652072724.png"></p>
<p>点击<code>Next</code>，然后再点击<code>Execute</code>，如图：</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652474507.png"></p>
<p>系统自动配置<code>MySQL</code>服务器。配置完成后，单击<code>Finish</code>（完成）按钮，弹出新对话框</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652642226.png"></p>
<p>接下来界面中点击<code>Next</code>之后，出现如下界面：</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652738269.png"></p>
<p>在这里我们输入之前配置的用户信息，即<code>Yunweijia0909</code>，然后点击<code>Check</code>按钮，就会发现他右上角的<code>Status</code>变成了<code>Connection succeeded</code>，表示连接成功了。确定无误之后，点击<code>Next</code></p>
<p>新界面中点击<code>Execute</code></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652792513.png"></p>
<p>运行完毕之后会出现<code>Finish</code>按钮，点击即可</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652837260.png"></p>
<p>然后在新界面中点击右下角的<code>Next</code>，出现：</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681653587076.png"></p>
<p>我们的<code>Mysql</code>就安装完成了</p>
<p>五、验证</p>
<p>1、任务管理器</p>
<p>打开任务管理器也会发现有一个<code>mysql.exe</code>的进程，如图：</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681652967908.png"></p>
<h3 id="验证是否安装成功"><a href="#验证是否安装成功" class="headerlink" title="验证是否安装成功"></a>验证是否安装成功</h3><p><code> mysql -uroot -p</code></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681654469850.png"></p>
<h2 id="MySQL-workbench-安装"><a href="#MySQL-workbench-安装" class="headerlink" title="MySQL-workbench 安装"></a>MySQL-workbench 安装</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26657483">MySQL-workbench安装</a></p>
<h1 id="MySQL-的基本使用"><a href="#MySQL-的基本使用" class="headerlink" title="MySQL 的基本使用"></a>MySQL 的基本使用</h1><h2 id="使用-MySQL-Workbench"><a href="#使用-MySQL-Workbench" class="headerlink" title="使用 MySQL Workbench"></a>使用 MySQL Workbench</h2><p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681659116359.png"></p>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1681659477565.png"></p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/20240902154859.png"></p>
<p>DataType 数据类型：</p>
<ol>
<li>int 整数</li>
<li>varchar(len) 字符串</li>
<li>tinyint (1) 布尔值</li>
</ol>
<p>字段的特殊标识：</p>
<ul>
<li>PK（Primary Key） 主键、唯一标识</li>
</ul>
<h2 id="使用-SQL-管理数据库"><a href="#使用-SQL-管理数据库" class="headerlink" title="使用 SQL 管理数据库"></a>使用 SQL 管理数据库</h2><h4 id="什么是-SQL"><a href="#什么是-SQL" class="headerlink" title="什么是 SQL"></a>什么是 SQL</h4><p>SQL (英文全称：Structured Query Language) 是<code>结构化查询语言</code>，专门用来<code>访问和处理数据库</code>的编程语言。能够让我们&#96;以编程的形式，操作数据库里面的数据</p>
<p>三个关键点：</p>
<ol>
<li>SQL 是一门<code>数据库编程语言</code></li>
<li>使用 SQL 语言编写出来的代码，叫做 SQL 语句</li>
<li>SQL 语言&#96;只能在关系型数据库中使用（例如：MySQL、Oracle、SQL Server）。非关系型数据库（例如：Mongodb）不支持 SQL 语言</li>
</ol>
<h4 id="SQL-能做什么"><a href="#SQL-能做什么" class="headerlink" title="SQL 能做什么"></a>SQL 能做什么</h4><ol>
<li>从数据库中<code>查询数据</code></li>
<li>向数据库中<code>插入新的数据</code></li>
<li><code>更新</code>数据库中的数据</li>
<li>从数据库<code>删除数据</code></li>
<li>可以创建新的数据库</li>
<li>可以在数据库中创建新的表</li>
<li>可以在数据库中创建存储过程、视图</li>
<li>etc…</li>
</ol>
<h3 id="SQL-的学习目标"><a href="#SQL-的学习目标" class="headerlink" title="SQL 的学习目标"></a>SQL 的学习目标</h3><p>重点掌握如何使用 SQL 从 数据表中：</p>
<p><code>查询数据</code>（select）、<code>插入数据</code>（insert into）、<code>更新数据</code>（update）、<code>删除数据</code>（delete）</p>
<p>额外需要掌握的 4种 SQL 语法：</p>
<p><code>where条件</code>、<code>and 和 or 运算符</code>、<code>order by 排序</code>、<code>count(*) 函数</code></p>
<h3 id="SQL-语法"><a href="#SQL-语法" class="headerlink" title="SQL 语法"></a>SQL 语法</h3><h4 id="查询数据："><a href="#查询数据：" class="headerlink" title="查询数据："></a>查询数据：</h4><p>使用SELECT语句可以从数据表中查询数据，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 表名</span><br><span class="line">SELECT column1, column2, ... FROM table_name</span><br></pre></td></tr></table></figure>
<p>其中星号表示返回该表格所有列的信息，也可以选择需要的列进行查询</p>
<p>其中，<code>column1</code>, <code>column2</code>, …为需要查询的列名称，用逗号分隔。<code>table_name</code> 为需要查询的表名。如果要查询所有列，则可以使用 * 通配符代替列名：</p>
<h4 id="插入数据："><a href="#插入数据：" class="headerlink" title="插入数据："></a>插入数据：</h4><p>使用<code>INSERT INTO</code>语句可以向数据表中<code>插入一条或多条新数据</code>，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 表名 (列1, 列2, ...) VALUES (值1, 值2, ...)</span><br></pre></td></tr></table></figure>
<p>其中，列1, 列2, … 是需要插入的列的名称，VALUES后面则是对应的该行数据</p>
<h4 id="更新数据："><a href="#更新数据：" class="headerlink" title="更新数据："></a>更新数据：</h4><p>使用<code>UPDATE</code>语句可以<code>更新数据</code>表中已经存在的一行或多行数据，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 表名 SET 列1=值1, 列2=值2, ... WHERE 条件</span><br></pre></td></tr></table></figure>
<p>其中，SET子句指定需要修改的列及其对应的新值，WHERE子句用于限定需要更新的行数</p>
<h4 id="删除数据："><a href="#删除数据：" class="headerlink" title="删除数据："></a>删除数据：</h4><p>使用<code>DELETE</code>语句可以在数据表中<code>删除一行或多行数据</code>，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM 表名 WHERE 条件</span><br></pre></td></tr></table></figure>
<p>其中，FROM关键字指定了需要操作的表格名称，WHERE子句用于限定需要删除的行数</p>
<h4 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h4><p>WHERE 子句用于<code>限定选择的标准</code>。在 <code>SELECT</code>、<code>UPDATE</code>、<code>DELETE</code> 语句中，<code>皆可使用 </code>WHERE 子句来限定选择的标准</p>
<p>可在 WHERE 子句中使用的<code>运算符</code></p>
<table>
<thead>
<tr>
<th align="center">操作符</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;</td>
<td align="center">等于</td>
</tr>
<tr>
<td align="center">&lt;&gt;</td>
<td align="center">不等于</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center">大于</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center">小于</td>
</tr>
<tr>
<td align="center">&gt;&#x3D;</td>
<td align="center">大于等于</td>
</tr>
<tr>
<td align="center">&lt;&#x3D;</td>
<td align="center">小于等于</td>
</tr>
<tr>
<td align="center">BETWEEN</td>
<td align="center">在某个范围内</td>
</tr>
<tr>
<td align="center">LIKE</td>
<td align="center">搜索某种模式</td>
</tr>
</tbody></table>
<p><code>注意：在某些版本的 SQL 中，操作符 &lt;&gt; 可以写为 !=</code></p>
<p>除此之外，WHERE 子句还支持一些特殊的语法结构，如 IN、LIKE、BETWEEN 等，这些语法结构可以让我们更方便地检索数据。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql复制代码SELECT * FROM products WHERE category IN (&#x27;book&#x27;, &#x27;movie&#x27;, &#x27;music&#x27;)</span><br><span class="line">SELECT * FROM employees WHERE last_name LIKE &#x27;Sm%&#x27;</span><br><span class="line">SELECT * FROM orders WHERE order_date BETWEEN &#x27;2022-01-01&#x27; AND &#x27;2022-12-31&#x27;</span><br></pre></td></tr></table></figure>

<p>以上三条语句分别使用了 IN、LIKE 和 BETWEEN 语法结构进行查询。IN 表示值必须在一个指定的值列表中；LIKE 可以用于模糊匹配查找，% 通配符可以代表任意字符；BETWEEN 表示值必须在一个指定范围内</p>
<h4 id="and-和-or"><a href="#and-和-or" class="headerlink" title="and 和 or"></a>and 和 or</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employees WHERE gender = &#x27;F&#x27; AND salary &gt; 5000</span><br></pre></td></tr></table></figure>

<p>以上语句要求从 employees 表中返回性别为女且工资大于 5000 的员工记录。注意：字符串常量必须用单引号 <code>&#39;</code> 括起来</p>
<p>SQL中的and和or用于连接多个筛选条件，常常与where条件语句一起使用。当使用and运算符时，只有当两个条件都满足时才能通过筛选；而如果使用or运算符，则只要有一个条件满足即可通过筛选。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM student WHERE age &gt;= 18 AND score &gt;= 80</span><br><span class="line">SELECT * FROM student WHERE age &gt;= 18 OR score &gt;= 80</span><br></pre></td></tr></table></figure>

<p>以上两条语句分别查询学生中年龄大于等于18岁且成绩大于等于80分的和学生中年龄大于等于18岁或成绩大于等于80分的</p>
<h4 id="order-by-排序"><a href="#order-by-排序" class="headerlink" title="order by 排序"></a>order by 排序</h4><p>ORDER BY 是用于按照指定条件对结果集进行排序的关键字。该语句可以根据数字、字符串以及日期类型进行排序，还可以指定升序（ASC）或降序（DESC）。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM student ORDER BY score DESC</span><br></pre></td></tr></table></figure>

<p>以上语句返回student表中所有学生的数据，并按照成绩从高到低的顺序进行排序</p>
<p>ORDER BY 子句可以指定多个列来进行排序，实现多重排序的功能。多重排序可按优先级将数据行排序。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> employees <span class="keyword">ORDER</span> <span class="keyword">BY</span> department_id, salary <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>

<p>以上语句要求从 employees 表中返回所有员工记录，并首先按照 department_id 字段升序排列，如果 department_id 值相同，则再按照 salary 字段降序排列</p>
<p>在多重排序的情况下，ORDER BY 子句的第一个字段优先级最高，如果它们的值相同，则根据第二个键进行排序，而以此类推，直到排序完为止</p>
<p>那么，如何在 ORDER BY 子句中指定不同的排序规则呢？在 SQL 中，可以使用 ASC 或 DESC 关键字来指定列的排序方式。如果未指定排序方式，默认是按升序（ASC）进行排序。因此，我们通过在列名之后添加 ASC 或 DESC 控制排序方向。在前面的例子中，我们默认了第一个字段 department_id 使用升序排序，而第二个字段 salary 则使用降序排序</p>
<h4 id="count-函数"><a href="#count-函数" class="headerlink" title="count(*) 函数"></a>count(*) 函数</h4><p>COUNT(*)是一个聚合函数，用于计算行的总数。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*) FROM student</span><br></pre></td></tr></table></figure>

<p>以上语句返回student表中数据行的总数。如果只想计算某一列的非空值的行数，则可以这样写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(column_name) FROM table_name WHERE condition</span><br><span class="line">-- 例如：这里查询表中 所有 status 为 0 的总行数</span><br><span class="line">SELECT COUNT(column_name) FROM table_name WHERE status=0</span><br></pre></td></tr></table></figure>

<p>其中，column_name为需要计算行数的列名，condition为筛选条件</p>
<p>在 SQL 中，可以使用 <code>AS</code> 语句来为查询结果中的列进行重命名。如果你使用了 <code>COUNT(*)</code> 函数来统计表格中所有行数，而想要将统计结果进行重命名，可以按如下的方式写出 SQL 语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> row_count <span class="keyword">FROM</span> table_name</span><br></pre></td></tr></table></figure>

<p>以上示例将统计 table_name 表格中所有行的数量，并将其重命名为 row_count 列。当查询结果被返回时，它会含有新命名的列名 row_count。我们还可以使用类似的方式对于其他类型的查询语句中的列进行重命名。例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(salary) <span class="keyword">AS</span> total_salary <span class="keyword">FROM</span> employee_details <span class="keyword">WHERE</span> department <span class="operator">=</span> <span class="string">&#x27;Marketing&#x27;</span></span><br></pre></td></tr></table></figure>

<p>以上语句将仅返回部门为 Marketing 的 employee_details 表格中工资的总和，并且将其重命名为 total_salary 列。注意，在这个例子中，我们并没有使用 <code>*</code> 通配符来查询所有列，因此只会返回一列</p>
<p>总之，借助 <code>AS</code> 语句，您可以轻松地自定义查询结果集中的列名称，以便更方便地分析和使用</p>
<h1 id="在项目中操作数据库的步骤"><a href="#在项目中操作数据库的步骤" class="headerlink" title="在项目中操作数据库的步骤"></a>在项目中操作数据库的步骤</h1><h2 id="项目中引入-mysql"><a href="#项目中引入-mysql" class="headerlink" title="项目中引入 mysql"></a>项目中引入 mysql</h2><ul>
<li>安装操作 MySql 数据库的第三方 （mysql）</li>
<li>通过 mysql 模块<code>连接到 MySql数据库</code></li>
<li>通过 mysql 模块<code>执行 SQL 语句</code></li>
</ul>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1682132968543.png"></p>
<p>在前端的 node.js express 项目中使用 MySQL 数据库，需要通过一些中间件和驱动程序来实现。下面是引入 MySQL 的基本步骤：</p>
<h3 id="安装-mysql2-包"><a href="#安装-mysql2-包" class="headerlink" title="安装 mysql2 包"></a>安装 mysql2 包</h3><p>前往终端命令行窗口，进入项目目录，并输入以下命令安装 mysql2 包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql2 --save</span><br></pre></td></tr></table></figure>

<p>这将在您的项目中添加 mysql2 获取包及其依赖项</p>
<h3 id="创建-MySQL-连接池"><a href="#创建-MySQL-连接池" class="headerlink" title="创建 MySQL 连接池"></a>创建 MySQL 连接池</h3><p>连接池用于维护一个到数据库的长期连接，提高性能和效率。下面的示例展示了如何创建连接池：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 mysql 模块</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql2&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 建立于 MySQL 数据库的连接</span></span><br><span class="line"><span class="keyword">const</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,					<span class="comment">// 数据库的 IP 地址</span></span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;your_mysql_username&#x27;</span>,		<span class="comment">// 登录数据库的账号</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;your_mysql_password&#x27;</span>,	<span class="comment">// 登录数据库的密码</span></span><br><span class="line">    <span class="attr">database</span>: <span class="string">&#x27;your_mysql_name&#x27;</span>,<span class="comment">// 指定要操作哪个数据库</span></span><br><span class="line">    <span class="attr">connectionLimit</span>: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>上述代码定义了要连接数据库的配置信息，其中包括主机地址、用户名、密码、数据库名称和连接池的最大连接数</p>
<h3 id="执行-SQL-查询语句"><a href="#执行-SQL-查询语句" class="headerlink" title="执行 SQL 查询语句"></a>执行 SQL 查询语句</h3><p>现在已经建立了与 MySQL 数据源的连接，并指定了以后在进行查询时要使用的连接池，让我们看一下如何执行 SELECT 查询操作，并将结果返回给客户端：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;SELECT * FROM users&#x27;</span></span><br><span class="line">pool.<span class="title function_">query</span>(sql, <span class="function">(<span class="params">err, results, fields</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/* results: [</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 1, name: &#x27;张三&#x27;, password: &#x27;111&#x27;, status: &#x27;1&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 2, name: &#x27;李四&#x27;, password: &#x27;222&#x27;, status: &#x27;1&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 3, name: &#x27;王五&#x27;, password: &#x27;333&#x27;, status: &#x27;0&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 4, name: &#x27;陈六&#x27;, password: &#x27;444&#x27;, status: &#x27;0&#x27; &#125;</span></span><br><span class="line"><span class="comment">] */</span></span><br></pre></td></tr></table></figure>

<p>上述代码将执行一个 SELECT 查询，从名为 <code>users</code> 的数据表中返回所有行，然后将结果打印出来。注意，这个示例假定你的数据库已经包含一个 <code>users</code> 表</p>
<p>在 Express 开发中，通常要更复杂地使用 MySQL 数据库，例如实现 CRUD 操作。因此，您可能需要添加一些额外的代码和模块以便于与数据库进行交互</p>
<p><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/1682135321737.png"></p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入数据库</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 配置数据库</span></span><br><span class="line"><span class="keyword">const</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,              <span class="comment">// 数据库的 IP 地址</span></span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,          <span class="comment">// 登录数据库的账号</span></span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;Lp17762682464&#x27;</span>,      <span class="comment">// 登录数据库的密码</span></span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;admin123&#x27;</span>,           <span class="comment">// 指定要操作哪个数据库</span></span><br><span class="line">  <span class="attr">connectionLimit</span>: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;select * from admin123&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测 MySQL 是否能够正常工作</span></span><br><span class="line">pool.<span class="title function_">query</span>(<span class="string">&#x27;SELECT 1&#x27;</span>,<span class="function">(<span class="params">err,res,fields</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(err) <span class="keyword">throw</span> err</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="使用mysql操作MySQL数据库"><a href="#使用mysql操作MySQL数据库" class="headerlink" title="使用mysql操作MySQL数据库"></a>使用mysql操作MySQL数据库</h2><h3 id="查询数据库"><a href="#查询数据库" class="headerlink" title="查询数据库"></a>查询数据库</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入数据库</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. 配置数据库</span></span><br><span class="line"><span class="keyword">const</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,              <span class="comment">// 数据库的 IP 地址</span></span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,          <span class="comment">// 登录数据库的账号</span></span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;Lp17762682464&#x27;</span>,      <span class="comment">// 登录数据库的密码</span></span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;admin123&#x27;</span>,           <span class="comment">// 指定要操作哪个数据库</span></span><br><span class="line">  <span class="attr">connectionLimit</span>: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;select * from users&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测 MySQL 是否能够正常工作</span></span><br><span class="line">pool.<span class="title function_">query</span>(sql,<span class="function">(<span class="params">err,res,fields</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(err) <span class="keyword">throw</span> err</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/* results: [</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 1, name: &#x27;张三&#x27;, password: &#x27;111&#x27;, status: &#x27;1&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 2, name: &#x27;李四&#x27;, password: &#x27;222&#x27;, status: &#x27;1&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 3, name: &#x27;王五&#x27;, password: &#x27;333&#x27;, status: &#x27;0&#x27; &#125;,</span></span><br><span class="line"><span class="comment">  RowDataPacket &#123; id: 4, name: &#x27;陈六&#x27;, password: &#x27;444&#x27;, status: &#x27;0&#x27; &#125;</span></span><br><span class="line"><span class="comment">] */</span></span><br></pre></td></tr></table></figure>



<h3 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h3><p>向 users 表中新增数据，其中</p>
<p>通过 node.js 中的 mysql2 或 mysql 模块，您可以从应用程序扩展到 MySQL 数据库。下面是如何使用 mysql2 模块插入数据到 MySQL 数据库的示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql2&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,              <span class="comment">// 数据库的 IP 地址</span></span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,          <span class="comment">// 登录数据库的账号</span></span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;Lp17762682464&#x27;</span>,      <span class="comment">// 登录数据库的密码</span></span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;admin123&#x27;</span>,           <span class="comment">// 指定要操作哪个数据库</span></span><br><span class="line">  <span class="attr">connectionLimit</span>: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">pool.<span class="title function_">getConnection</span>(<span class="function">(<span class="params">err, connection</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(err)</span><br><span class="line">    <span class="keyword">const</span> data = &#123; <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">email</span>: <span class="string">&#x27;john@example.com&#x27;</span> &#125;</span><br><span class="line">    connection.<span class="title function_">query</span>(<span class="string">&#x27;INSERT INTO users SET ?&#x27;</span>, data, <span class="function">(<span class="params">err, result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(err)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">affectedRows</span>)</span><br><span class="line">        connection.<span class="title function_">release</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>上述代码中，我们首先通过 <code>createPool</code> 方法创建了一个连接池，并在获取到连接后使用 <code>query</code> 方法向 <code>users</code> 表格中插入了一行数据。注意，我们将待插入的数据定义为一个包含 <code>&#39;age&#39;</code> 和 <code>&#39;email&#39;</code> 两个字段的 Javascript 对象，并作为第二个参数传递给 <code>query</code> 方法。在这里，我们假设 <code>users</code> 表格有一个自增的 <code>id</code> 字段</p>
<p>在 <code>query</code> 回调函数中，我们可以检查插入是否成功，并使用 <code>release</code> 方法将连接释放回连接池。值得注意的是，如果我们不显式释放连接，则它会一直占用资源，直到达到连接数限制</p>
<p>在实际项目中，您可能需要执行更复杂的插入操作，例如在事务中执行多个插入操作。但是，基本的插入操作可以使用类似上述代码的方法轻松地实现</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/mysql/">mysql</a></div><div class="post_share"><div class="social-share" data-image="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/Luosplan/gallery-repo/main/notes/avater.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">luo pan</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">数据库的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.</span> <span class="toc-text">什么是数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">常见数据库及分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">传统型数据库的数据组织结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Excel-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.1.</span> <span class="toc-text">Excel 的数据组织结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E8%A1%8C%E3%80%81%E5%AD%97%E6%AE%B5%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">库、表、行、字段的关系</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AE-MySQL"><span class="toc-number">2.</span> <span class="toc-text">安装并配置 MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E7%9B%B8%E5%85%B3%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="toc-number">2.1.</span> <span class="toc-text">MySQL相关的软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows%E5%AE%89%E8%A3%85MySQL"><span class="toc-number">2.2.</span> <span class="toc-text">Windows安装MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-number">2.2.1.</span> <span class="toc-text">验证是否安装成功</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL-workbench-%E5%AE%89%E8%A3%85"><span class="toc-number">2.3.</span> <span class="toc-text">MySQL-workbench 安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">MySQL 的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-MySQL-Workbench"><span class="toc-number">3.1.</span> <span class="toc-text">使用 MySQL Workbench</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.1.</span> <span class="toc-text">创建数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-SQL-%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.2.</span> <span class="toc-text">使用 SQL 管理数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-SQL"><span class="toc-number">3.2.0.1.</span> <span class="toc-text">什么是 SQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88"><span class="toc-number">3.2.0.2.</span> <span class="toc-text">SQL 能做什么</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="toc-number">3.2.1.</span> <span class="toc-text">SQL 的学习目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.2.</span> <span class="toc-text">SQL 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">查询数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">插入数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">更新数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">删除数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WHERE"><span class="toc-number">3.2.2.5.</span> <span class="toc-text">WHERE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#and-%E5%92%8C-or"><span class="toc-number">3.2.2.6.</span> <span class="toc-text">and 和 or</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by-%E6%8E%92%E5%BA%8F"><span class="toc-number">3.2.2.7.</span> <span class="toc-text">order by 排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#count-%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.2.8.</span> <span class="toc-text">count(*) 函数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">4.</span> <span class="toc-text">在项目中操作数据库的步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%BC%95%E5%85%A5-mysql"><span class="toc-number">4.1.</span> <span class="toc-text">项目中引入 mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-mysql2-%E5%8C%85"><span class="toc-number">4.1.1.</span> <span class="toc-text">安装 mysql2 包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-MySQL-%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">4.1.2.</span> <span class="toc-text">创建 MySQL 连接池</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C-SQL-%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.1.3.</span> <span class="toc-text">执行 SQL 查询语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.1.4.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mysql%E6%93%8D%E4%BD%9CMySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.2.</span> <span class="toc-text">使用mysql操作MySQL数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.2.1.</span> <span class="toc-text">查询数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.2.</span> <span class="toc-text">插入数据</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: linear-gradient(to right, skyblue, salmon);"><div id="footer-wrap"><div class="copyright">&copy;2024 By luo pan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>